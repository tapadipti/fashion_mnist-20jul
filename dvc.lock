schema: '2.0'
stages:
  train:
    cmd: python src/train.py
    deps:
    - path: data/fashion_mnist_data.pkl
      hash: md5
      md5: 35353c71da0985eed8bb507bbc53bd91
      size: 54950285
    - path: src/train.py
      hash: md5
      md5: 83f0f498900ca7df07aa862b1d983650
      size: 2905
    params:
      params.yaml:
        train.batch_size: 128
        train.dropout: 0.4
        train.hidden_units: 64
        train.lr: 0.01
        train.num_epochs: 3
    outs:
    - path: dvclive/metrics.json
      hash: md5
      md5: f830512eea460c0f05973682a6e392b3
      size: 54
    - path: dvclive/plots/metrics/accuracy.tsv
      hash: md5
      md5: 1a3abad992b8704b7f18db37e2cfa2ec
      size: 77
    - path: output/model.h5
      hash: md5
      md5: 451b1a92ca322d5186e396e8a6d8b7b2
      size: 3681312
    - path: output/train_logs.csv
      hash: md5
      md5: 6cf08f4dfce1198b8abe43d1a192a51f
      size: 142
  evaluate:
    cmd: python src/evaluate.py
    deps:
    - path: data/fashion_mnist_data.pkl
      hash: md5
      md5: 35353c71da0985eed8bb507bbc53bd91
      size: 54950285
    - path: output/model.h5
      hash: md5
      md5: 451b1a92ca322d5186e396e8a6d8b7b2
      size: 3681312
    - path: src/evaluate.py
      hash: md5
      md5: e5ee4c57512384abd37b8e5679f846e2
      size: 3040
    outs:
    - path: output/metrics.json
      hash: md5
      md5: 829ff275c0a6856dda38ef1a11dfee76
      size: 61
    - path: output/predictions.json
      hash: md5
      md5: 8d6bbe18c667e2cec775f561c9872562
      size: 310000
    - path: output/test/samples_of_mispredicted_images/
      hash: md5
      md5: bec0969f785f49b6e016c50521987db3.dir
      size: 172072
      nfiles: 10
